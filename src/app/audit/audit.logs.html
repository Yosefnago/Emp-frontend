<div class="audit-logs-container" dir="rtl">
  <!-- Header -->
  <div class="audit-header">
    <h1>פעולות אחרונות</h1>
    <p class="subtitle">רישום מלא של כל הפעילויות במערכת</p>
  </div>

  <!-- Filters Section -->
  <div class="filters-section">
    <div class="filter-group">
      <input
        type="text"
        placeholder="חפש משתמש, משאב או פרטים..."
        [(ngModel)]="searchTerm"
        (ngModelChange)="applyFilters()"
        class="search-input"
      />
    </div>

    <div class="filter-controls">
      
      <select
        [(ngModel)]="filterAction"
        (ngModelChange)="applyFilters()"
        class="filter-select"
      >
        <option value="all">כל הפעולות</option>
        <option value="ADD">הוספה</option>
        <option value="DELETE">מחיקה</option>
        <option value="UPDATE">עדכון</option>
        <option value="ARCHIVE">ארכיון</option>
        <option value="RESTORE">שחזור</option>
      </select>
    </div>
  </div>

  <!-- Logs Content Section -->
  <div class="logs-content">
    <!-- Logs List -->
    <div class="logs-list-section">
      @if (filteredLogs.length > 0) {
        <div class="logs-list">
          @for (item of filteredLogs; track item.id) {
            <div [class]="'log-item type-' + item.action.toLowerCase()">
              <div class="log-timestamp">
                {{ (item.dateAction) }}
              </div>
              <div class="log-main">
                <div class="log-header">
                  <span class="log-user">{{ item.fromUser }}</span>
                
                </div>
                <div class="log-description">{{ getActivityMessage(item).label }} ,{{ getActivityMessage(item).details }}</div>
                <div class="log-resource">
                  {{ formatRelativeTime(item.dateAction, item.timeAction) }}
                </div>
              </div>
            </div>
          }
        </div>
      } @else {
        <div class="empty-state">
          <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="12" y1="16" x2="12" y2="12"></line>
            <line x1="12" y1="8" x2="12.01" y2="8"></line>
          </svg>
          <p>לא נמצאו רישומי ביקורת התואמים לסננים שלך</p>
        </div>
      }
    </div>


</div>